<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MacrOS</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  body {
    margin: 40px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: #f5f5f7;
    color: #1c1c1e;
  }
  header {
    text-align: center;
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 20px;
  }
  .top-buttons {
    text-align: center;
    margin-bottom: 30px;
  }
  .top-buttons button {
    background: #007aff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin: 0 10px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    font-size: 1rem;
  }
  .top-buttons button:hover {
    background: #005ecb;
  }
  main {
    display: flex;
    gap: 20px;
  }
  .card {
    flex: 1;
    background: #fff;
    padding: 20px;
    border-radius: 18px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.08);
  }
  label {
    font-weight: 600;
    display: block;
    margin: 12px 0 5px;
  }
  select, input, textarea {
    width: 100%;
    padding: 8px 12px;
    margin-bottom: 12px;
    border: 1px solid #ccc;
    border-radius: 12px;
    font-size: 0.95rem;
    background: #f2f2f7;
    color: #1c1c1e;
  }
  select {
    height: 35px;
    padding: 0 10px;
  }
  textarea {
    resize: both;
  }
  .output textarea {
    width: 100%;
    height: 450px;
    font-family: monospace;
    border-radius: 12px;
    padding: 12px;
    background: #f2f2f7;
    color: #1c1c1e;
    font-size: 0.95rem;
  }
  .output button {
    margin-top: 10px;
    background: #34c759;
  }
  .output button:hover {
    background: #28a745;
  }
</style>
</head>
<body>
  <header>MacrOS</header>

  <div class="top-buttons">
    <button onclick="newCall()"><i class="fas fa-plus"></i> New Call</button>
    <button onclick="prevCall()"><i class="fas fa-arrow-left"></i> Prev Call</button>
  </div>

  <main>
    <!-- Formulario -->
    <div class="card">
      <form id="macroForm">
        <label for="contactType">CONTACT TYPE</label>
        <select id="contactType" onchange="updateContactLabel(); updateNotes()">
          <option value="Phone">Phone</option>
          <option value="Ticket">Ticket</option>
        </select>

        <label id="contactFormLabel" for="contactForm">Phone</label>
        <input type="text" id="contactForm" placeholder="Phone #" oninput="updateNotes()" />

        <label for="name">NAME</label>
        <input type="text" id="name" placeholder="Nombre del cliente" oninput="updateNotes()" />

        <label for="orderNumber">ORDER NUMBER</label>
        <input type="text" id="orderNumber" placeholder="Número de orden" oninput="updateNotes()" />

        <label for="inquiry">INQUIRY</label>
        <select id="inquiry" onchange="updateNotes()">
          <option value="New Order">New Order</option>
          <option value="Missing Item">Missing Item</option>
          <option value="Product Issues">Product Issues</option>
          <option value="Shipping Status">Shipping Status</option>
          <option value="Escalations">Escalations</option>
          <option value="Returns">Returns</option>
          <option value="Cancelations">Cancelations</option>
          <option value="Other">Other</option>
        </select>
        <textarea id="inquiryExtra" placeholder="Detalles extra" oninput="updateNotes()"></textarea>

        <label for="actionTaken">ACTION TAKEN</label>
        <select id="actionTaken" onchange="updateNotes()">
          <option value="Explained cancellation policy">Explained cancellation policy</option>
          <option value="Sent replacement order">Sent replacement order</option>
          <option value="Provided tracking number">Provided tracking number</option>
          <option value="Escalated to supervisor">Escalated to supervisor</option>
          <option value="Processed return">Processed return</option>
          <option value="Issued refund">Issued refund</option>
          <option value="General assistance">General assistance</option>
        </select>
        <textarea id="actionExtra" placeholder="Detalles extra" oninput="updateNotes()"></textarea>

        <label for="cex">CEX</label>
        <select id="cex" onchange="updateNotes()">
          <option value="Good">Good</option>
          <option value="Neutral">Neutral</option>
          <option value="Bad">Bad</option>
        </select>

        <label for="why">WHY</label>
        <textarea id="why" placeholder="Explicación breve" oninput="updateNotes()"></textarea>
      </form>
    </div>

    <!-- Notas generadas -->
    <div class="card output">
      <label for="notes">Generated Notes</label>
      <textarea id="notes" readonly></textarea>
      <button onclick="copyNotes()"><i class="far fa-copy"></i> Copy Notes</button>
    </div>
  </main>

<script>
  let previousNotes = "";

  function updateContactLabel() {
    const type = document.getElementById("contactType").value;
    document.getElementById("contactFormLabel").innerText = type;
    document.getElementById("contactForm").placeholder = type + " #";
  }

  function updateNotes() {
    const contactType = document.getElementById("contactType").value;
    const contactForm = document.getElementById("contactForm").value;
    const name = document.getElementById("name").value;
    const orderNumber = document.getElementById("orderNumber").value;
    const inquiry = document.getElementById("inquiry").value;
    const inquiryExtra = document.getElementById("inquiryExtra").value;
    const actionTaken = document.getElementById("actionTaken").value;
    const actionExtra = document.getElementById("actionExtra").value;
    const cex = document.getElementById("cex").value;
    const why = document.getElementById("why").value;

    const notes = 
      `CONTACT VIA: ${contactType} ${contactForm} //// ` +
      `NAME: ${name} //// ` +
      `ORDER: ${orderNumber} //// ` +
      `INQUIRY: ${inquiry}${inquiryExtra ? " - " + inquiryExtra : ""} //// ` +
      `ACTION TAKEN: ${actionTaken}${actionExtra ? " - " + actionExtra : ""} //// ` +
      `CEX: ${cex} //// ` +
      `WHY: ${why}`;

    document.getElementById("notes").value = notes;
  }

  function newCall() {
    previousNotes = document.getElementById("notes").value;
    document.getElementById("macroForm").reset();
    updateContactLabel();
    updateNotes();
  }

  function prevCall() {
    if (previousNotes) {
      document.getElementById("notes").value = previousNotes;
    } else {
      alert("No previous call saved.");
    }
  }

  function copyNotes() {
    const notesBox = document.getElementById("notes");
    notesBox.select();
    document.execCommand("copy");
    alert("Notes copied to clipboard!");
  }

  updateContactLabel();
  updateNotes();
</script>
</body>
</html>
